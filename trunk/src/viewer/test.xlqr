<?xml version="1.0" encoding="utf-8" ?>
<document	xmlns="http://corentin-lebail.eu/libqt4report"
			xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
			xsi:schemaLocation="http://corentin-lebail.eu/libqt4report libqt4report.xsd"
			pageWidth="210" pageHeight="100%">
	<fonts>
		<font id="font1" family="arial" size="10" />
		<font id="fontColumnName" family="arial" size="14" />
		<font id="fontTitre" family="arial" size="40" weight="bold" />
		<font id="fontTotal" family="arial" size="10" weight="bold" />
	</fonts>
	<fields>
		<field xsi:type="dbFieldObject" id="dbArticle" fieldName="article" dataType="string" />
		<field xsi:type="dbFieldObject" id="dbQte" fieldName="quantite" dataType="integer" />
		<field xsi:type="dbFieldObject" id="dbPuHT" fieldName="prixUnitaireHT" dataType="real" />
		<field xsi:type="dbFieldObject" id="dbTTva" fieldName="tauxTva" dataType="real" />
		<field xsi:type="dbFieldObject" id="dbTD" fieldName="td" dataType="date" />
		<field xsi:type="totalFieldObject" id="tTotalHT" operation="sum" fieldId="cMntHT" dataType="real" />
		<field xsi:type="totalFieldObject" id="tTotalTTC" operation="sum" fieldId="cMntTTC" dataType="real" />
		<field xsi:type="calculatedFieldObject" id="cMntHT" dataType="real">
			<expression><![CDATA[${dbPuHT}*${dbQte}]]></expression>
		</field>
		<field xsi:type="calculatedFieldObject" id="cMntTTC" dataType="real">
			<expression><![CDATA[${cMntHT}*(1+${dbTTva})]]></expression>
		</field>
	</fields>
	<database>
		<connection driver="QMYSQL" host="127.0.0.1" userName="test" password="" dbName="test" />
		<query><![CDATA[SELECT article, quantite, prixUnitaireHT, tauxTva, CURDATE() as td FROM ligneCommandes ORDER BY commande, numeroLigne]]></query>
	</database>
	<body>
		<pageHeader>
			<item xsi:type="textFixedObject" id="codeTitle" fontId="fontColumnName" x="5" y="5" value="Article" />
			<item xsi:type="textFixedObject" id="nomTitle" fontId="fontColumnName" x="50" y="5" value="QuantitÃ©" align="end" />
			<item xsi:type="textFixedObject" id="puHTTitle" fontId="fontColumnName" x="100" y="5" value="Prix unitaire HT" align="end" />
			<item xsi:type="textFixedObject" id="tTvaTitle" fontId="fontColumnName" x="130" y="5" value="Taux de tva" align="end" />
			<item xsi:type="textFixedObject" id="mntHTTitle" fontId="fontColumnName" x="170" y="5" value="Mnt. HT" align="end" />
			<item xsi:type="textFixedObject" id="mntTTCTitle" fontId="fontColumnName" x="190" y="5" value="Mnt. TTC" align="end" />
			<item xsi:type="lineObject" id="lineH1" x="5" y="6" width="200" height="0" />
		</pageHeader>
		<docHeader>
			<item xsi:type="textFixedObject" id="title" fontId="fontTitre" x="105" y="10" value="Titre" align="middle" color="red" />
			<item xsi:type="textFieldObject" id="titleDate" fontId="fontTitre" x="5" y="10" fieldId="dbTD" color="blue" />
		</docHeader>
		<docBody>
			<item xsi:type="textFieldObject" id="code" fontId="font1" x="5" y="5" fieldId="dbArticle" />
			<item xsi:type="textFieldObject" id="nom" fontId="font1" x="50" y="5" fieldId="dbQte" align="end" />
			<item xsi:type="textFieldObject" id="puHt" fontId="font1" x="100" y="5" fieldId="dbPuHT" align="end" format="rf2" />
			<item xsi:type="textFieldObject" id="tTva" fontId="font1" x="130" y="5" fieldId="dbTTva" align="end" format="rf3" />
			<item xsi:type="textFieldObject" id="tMntHT" fontId="font1" x="170" y="5" fieldId="cMntHT" align="end" format="rf2" />
			<item xsi:type="textFieldObject" id="tMntTTC" fontId="font1" x="190" y="5" fieldId="cMntTTC" align="end" format="rf2" />
		</docBody>
		<docFooter>
			<item xsi:type="textFixedObject" id="totalTitle" fontId="fontTotal" x="145" y="5" value="Total :" align="end" />
			<item xsi:type="textFieldObject" id="totalHT" fontId="fontTotal" x="170" y="5" fieldId="tTotalHT"  align="end" format="rf2" />
			<item xsi:type="textFieldObject" id="totalTTC" fontId="fontTotal" x="190" y="5" fieldId="tTotalTTC"  align="end" format="rf2" />
		</docFooter>
		<pageFooter>
			<item xsi:type="rectObject" id="rectFooter" x="2" y="2" width="206" height="5" color="green" /> 
			<item xsi:type="textFixedObject" id="pageFooter" fontId="font1" x="5" y="5" value="pageFooter" />
		</pageFooter>
	</body>
</document>